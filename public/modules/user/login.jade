doctype html
html
    head
        meta(charset='UTF-8')
        title Twenty | Login
        link(href='/nine/css/bootstrap.min.css', rel='stylesheet', type='text/css')
        link(href='/nine/css/AdminLTE.css', rel='stylesheet', type='text/css')
        link(href='/nine/css/animate.css', rel='stylesheet', type='text/css')
        link(href='/nine/css/login.css', rel='stylesheet', type='text/css')
        script(src='/nine/lib/jquery-1.10.2.min.js')
        script(src='/nine/lib/angular.js')
        script(src='/nine/lib/angular-resource.min.js')
        script(src='/nine/system/common/util.js')
        script(src="/nine/system/user/login.js")
    body(ng-app='user.login')
        .container
            .row
                .col-sm-6.col-sm-offset-3
                    form.form-box.transparent.hide(ng-controller='login',redirect="/nine/modules/index/index#/tomato/commander")
                        .header.text-center
                            h1(style="color:white")  TODO
                        .body
                            .form-group
                                input.form-control(type='text', name='email', placeholder='Email',ng-model='user.email')
                            .form-group
                                input.form-control(type='password', name='password', placeholder='Password',ng-model='user.password',ng-keyup='$event.which==13&&login()')
                        .footer.text-center
                            a.btn.btn-success(ng-click="login(user)") Sign in
                            a(style="margin:0 10px",href="/nine/modules/user/register") register
                            div.Prompt
                                .callout.callout-danger(ng-if="failedCode" ng-switch="failedCode")
                                    p(ng-switch-when="404") 用户名或密码错误。
                                    p(ng-switch-when="500") 服务器出错，请查看后台记录。
                                    p(ng-switch-default) 未知错误，请查看后台记录。


        script.
            $(function(){
                $('.form-box').addClass('fadeIn animated').removeClass('hide')
            })
